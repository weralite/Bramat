(()=>{"use strict";const e=window.wp.blockEditor,i=window.wp.blocks,n=JSON.parse('{"u2":"yourtheme/mosaic-image-grid"}'),t=window.wp.components,l=window.ReactJSXRuntime;(0,i.registerBlockType)(n.u2,{edit:function({attributes:i,setAttributes:n}){const o=(0,e.useBlockProps)(),{images:a=[],mosaicLayout:s,columns:r,gap:d}=i,c=e=>{n({images:[...a,{url:e.url,id:e.id,alt:e.alt||"Our beautiful image",caption:""}]})},m=[{gridColumn:"1 / span 3",gridRow:"1 / span 5"},{gridColumn:"3 / span 7",gridRow:"1 / span 3"},{gridColumn:"3 / span 5",gridRow:"3 / span 5"},{gridColumn:"5 / span 7",gridRow:"3 / span 7"},{gridColumn:"1 / span 5",gridRow:"5 / span 7"}];return(0,l.jsxs)("div",{...o,children:[(0,l.jsx)(e.BlockControls,{children:(0,l.jsx)(t.ToolbarGroup,{children:(0,l.jsx)(e.MediaUpload,{onSelect:c,allowedTypes:["image"],render:({open:e})=>(0,l.jsx)(t.ToolbarButton,{icon:"plus",label:"Add Image",onClick:e})})})}),(0,l.jsxs)(e.InspectorControls,{children:[(0,l.jsxs)(t.PanelBody,{title:"Image Settings",initialOpen:!0,children:[(0,l.jsx)(t.PanelRow,{children:(0,l.jsx)(e.MediaUpload,{onSelect:c,allowedTypes:["image"],render:({open:e})=>(0,l.jsx)(t.Button,{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},isPrimary:!0,onClick:e,children:"Add Image"})})}),a.map(((i,o)=>(0,l.jsx)(t.PanelRow,{children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)("img",{src:i.url,alt:i.alt,style:{width:"100%",height:"auto",objectFit:"cover",marginBottom:"10px"}}),(0,l.jsx)(e.MediaUpload,{onSelect:e=>((e,i)=>{const t=a.map(((n,t)=>t===e?{...n,url:i.url,id:i.id,alt:i.alt||"Our beautiful image"}:n));n({images:t})})(o,e),allowedTypes:["image"],value:i.id,render:({open:e})=>(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,width:"100%"},children:[(0,l.jsx)(t.Button,{isPrimary:!0,onClick:e,style:{width:"90%",display:"flex",justifyContent:"center",alignItems:"center"},children:"Edit Image"}),(0,l.jsx)(t.Button,{onClick:()=>(e=>{const i=a.filter(((i,n)=>n!==e));n({images:i})})(o),style:{width:"90%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"red",color:"white"},children:"Remove Image"})]})}),(0,l.jsx)(t.TextControl,{label:"Caption",value:i.caption,onChange:e=>((e,i)=>{const t=a.map(((n,t)=>t===e?{...n,caption:i}:n));n({images:t})})(o,e)})]})},o)))]}),(0,l.jsxs)(t.PanelBody,{title:"Mosaic Settings",initialOpen:!0,children:[(0,l.jsx)(t.SelectControl,{label:"Layout",value:s,options:[{label:"Grid",value:"grid"},{label:"Masonry",value:"masonry"},{label:"Mosaic",value:"mosaic"}],onChange:e=>n({mosaicLayout:e})}),(0,l.jsx)(t.RangeControl,{label:"Columns",value:r,onChange:e=>n({columns:e}),min:1,max:6}),(0,l.jsx)(t.RangeControl,{label:"Gap (px)",value:d,onChange:e=>n({gap:e}),min:0,max:50})]})]}),(0,l.jsx)("div",{style:{display:"grid"===s||"mosaic"===s?"grid":"block",gridTemplateColumns:"mosaic"===s?"repeat(6, 1fr)":`repeat(${r}, 1fr)`,gridAutoRows:"mosaic"===s?"minmax(150px, auto)":"auto",maxWidth:"mosaic"===s?"960px":"none",margin:"mosaic"===s?"0 auto":"0",gap:`${d}px`},children:a.map(((e,i)=>{const n=m[i%m.length];return(0,l.jsxs)("div",{style:{gridColumn:"mosaic"===s?n.gridColumn:"span 1",gridRow:"mosaic"===s?n.gridRow:"span 1",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"auto",objectFit:"cover"}}),e.caption&&(0,l.jsx)("p",{style:{textAlign:"center",marginTop:"5px"},children:e.caption})]},i)}))})]})},save:function(){return(0,l.jsx)(e.InnerBlocks.Content,{})}})})();